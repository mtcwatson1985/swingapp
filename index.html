<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Swing Capture Studio</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>Swing Capture Studio</h1>
      <p>Dual-camera wireless monitoring, impact-triggered recording, instant replay, and swing analysis overlays.</p>
    </header>

    <main>
      <section class="panel controls">
        <h2>Live Capture Controls</h2>
        <div class="control-grid">
          <label>
            Camera A (Down-the-line)
            <select id="cameraA"></select>
          </label>
          <label>
            Camera B (Face-on)
            <select id="cameraB"></select>
          </label>
          <label>
            Resolution
            <select id="resolution">
              <option value="1280x720">720p</option>
              <option value="1920x1080" selected>1080p</option>
              <option value="3840x2160">4K (device permitting)</option>
            </select>
          </label>
          <label>
            FPS target
            <select id="fpsTarget">
              <option value="30">30 fps</option>
              <option value="60" selected>60 fps</option>
              <option value="120">120 fps (device permitting)</option>
            </select>
          </label>
          <label>
            Pre-roll seconds
            <input id="preRollSeconds" type="number" min="1" max="10" value="3" />
          </label>
          <label>
            Post-roll seconds
            <input id="postRollSeconds" type="number" min="1" max="10" value="3" />
          </label>
          <label>
            Impact sensitivity (dB)
            <input id="impactThreshold" type="range" min="-75" max="-20" value="-38" />
            <span id="impactValue">-38 dB</span>
          </label>
        </div>

        <div class="button-row">
          <button id="startMonitor">Start Dual Monitor</button>
          <button id="stopMonitor" disabled>Stop Monitor</button>
          <button id="toggleImpact" disabled>Enable Impact Trigger</button>
          <button id="manualRecord" disabled>Manual Record Shot</button>
        </div>
        <p id="status">Status: idle</p>
      </section>

      <section class="panel preview-layout">
        <h2>Wireless Low-Latency Monitor</h2>
        <div class="video-grid">
          <article>
            <h3>Down-the-line</h3>
            <video id="videoA" autoplay playsinline muted></video>
          </article>
          <article>
            <h3>Face-on</h3>
            <video id="videoB" autoplay playsinline muted></video>
          </article>
        </div>
      </section>

      <section class="panel replay-panel">
        <h2>Shot Replay</h2>
        <div class="replay-grid">
          <article>
            <h3>Replay A</h3>
            <video id="replayA" controls playsinline></video>
          </article>
          <article>
            <h3>Replay B</h3>
            <video id="replayB" controls playsinline></video>
          </article>
        </div>
        <div class="button-row">
          <button id="instantReplay" disabled>Instant 0.25x Replay</button>
          <button id="halfReplay" disabled>0.5x Replay</button>
          <button id="normalReplay" disabled>1x Replay</button>
        </div>
      </section>

      <section class="panel editor-panel">
        <h2>Analysis Editor</h2>
        <p>Select a replay frame, then use tools to draw lines, measure angles, and trace the clubhead path.</p>
        <div class="editor-controls">
          <label>
            Source
            <select id="editorSource">
              <option value="A">Replay A</option>
              <option value="B">Replay B</option>
            </select>
          </label>
          <label>
            Tool
            <select id="toolMode">
              <option value="line">Line</option>
              <option value="angle">Angle</option>
              <option value="trace">Clubhead Trace</option>
            </select>
          </label>
          <button id="captureFrame" disabled>Capture Current Frame</button>
          <button id="clearOverlays">Clear Overlays</button>
        </div>

        <div class="canvas-wrap">
          <canvas id="analysisCanvas" width="960" height="540"></canvas>
        </div>
        <p id="measurements">Measurements: none yet.</p>
      </section>
    </main>

    <footer>
      <small>
        Tips: use iPhone devices as network cameras via browser on same Wiâ€‘Fi; open this app on iPad/TV browser for low-latency monitor and coaching workflow.
      </small>
    </footer>

    <script src="app.js"></script>
  </body>
</html>
